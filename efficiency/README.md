# Efficiency
The `efficiency.py` file in this repository contains a function defining an efficiency function which reflects some experimental effects of the LHCb detector.
## Tasks
1.  Write code that generates a sample representing the efficiency shape using Monte Carlo integration. You do this by generating random uniformly distributed numbers (start with 10 million) for each variable within the ranges appearing in the figures you made in the exploration folder. This gives you 10 million 4-dimensional data points. For each data point, calculate the efficiency. Then generate a fifth uniformly distributed variable in the range between 0 and the maximum efficiency in your sample. Keep all data points for which this fifth random variable is lower than the actual efficiency value.
2.  Visualize the efficiency by plotting the one-dimensional projection of each variable as well as the two-dimensional projections.
3.  Try to relate the shapes you are seeing to the terms in the efficiency function. Can you think of the reason why the efficiency at LHCb has some of these features?
4. Write a second script that "applies" this efficiency to our perfect signal dataset. This means you need to read in the sample we used in the `exploration` and `fitter` folders. You then calculate the efficiency for every data point. Check the largest efficiency value in the data set and draw $N$ random numbers from 0 to the maximum efficiency where $N$ is the number of data points in the signal dataset. Only keep the data points where the efficiency is larger than the respective random number. Save your new data set to a new file.
5. Check whether you applied the efficiency correctly. To do this, read your newly created file back in. For each data point, calculate the efficiency value. Then plot one-dimensional histograms for each variable where you weight the data points by 1/efficiency. Plot a histogram containing the original dataset (the one we've always used that still has all the data points) in the same plot for comparison.